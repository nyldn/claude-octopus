{
  "PreToolUse": [
    {
      "matcher": {
        "tool": "Bash",
        "pattern": "orchestrate\\.sh.*(probe|grasp|tangle|ink|embrace|grapple|squeeze)"
      },
      "hooks": [
        {
          "type": "prompt",
          "prompt": "üêô **CLAUDE OCTOPUS ACTIVATED** - Using external CLI providers (Codex/Gemini) for this task. This is NOT a Claude subagent - external APIs will be invoked."
        },
        {
          "type": "command",
          "command": "${CLAUDE_PLUGIN_ROOT}/hooks/provider-routing-validator.sh",
          "additionalContext": "Session: ${CLAUDE_SESSION_ID}, Workflow: ${OCTOPUS_WORKFLOW_PHASE:-unknown}"
        }
      ]
    },
    {
      "matcher": {
        "tool": "TaskCreate"
      },
      "hooks": [
        {
          "type": "command",
          "command": "${CLAUDE_PLUGIN_ROOT}/hooks/task-dependency-validator.sh"
        }
      ]
    },
    {
      "matcher": {
        "tool": "Bash",
        "pattern": "orchestrate\\.sh.*tangle"
      },
      "hooks": [
        {
          "type": "prompt",
          "prompt": "Before running tangle phase, check if there are existing validation results that need review."
        }
      ]
    },
    {
      "matcher": {
        "tool": "Bash",
        "pattern": "codex exec"
      },
      "hooks": [
        {
          "type": "prompt",
          "prompt": "üî¥ **Codex CLI Executing** - Using your OpenAI API credentials directly."
        }
      ]
    },
    {
      "matcher": {
        "tool": "Bash",
        "pattern": "gemini -[yr]"
      },
      "hooks": [
        {
          "type": "prompt",
          "prompt": "üü° **Gemini CLI Executing** - Using your Google API credentials directly."
        }
      ]
    },
    {
      "matcher": {
        "tool": "Bash",
        "pattern": "octopus-scheduler\\.sh|orchestrate\\.sh"
      },
      "hooks": [
        {
          "type": "command",
          "command": "${CLAUDE_PLUGIN_ROOT}/hooks/scheduler-security-gate.sh",
          "additionalContext": "Scheduler job: ${OCTOPUS_JOB_ID:-none}"
        }
      ]
    },
    {
      "matcher": {"tool": "EnterPlanMode"},
      "hooks": [
        {
          "type": "command",
          "command": "${CLAUDE_PLUGIN_ROOT}/hooks/plan-mode-interceptor.sh"
        }
      ]
    }
  ],
  "PostToolUse": [
    {
      "matcher": {
        "tool": "Bash",
        "pattern": "orchestrate\\.sh.*tangle"
      },
      "hooks": [
        {
          "type": "command",
          "command": "${CLAUDE_PLUGIN_ROOT}/hooks/quality-gate.sh"
        }
      ]
    },
    {
      "matcher": {
        "tool": "TaskUpdate",
        "pattern": ".*completed.*"
      },
      "hooks": [
        {
          "type": "command",
          "command": "${CLAUDE_PLUGIN_ROOT}/hooks/task-completion-checkpoint.sh"
        }
      ]
    },
    {
      "matcher": {
        "tool": "Bash",
        "pattern": "orchestrate\\.sh.*(probe|grasp|tangle|ink|embrace)"
      },
      "hooks": [
        {
          "type": "command",
          "command": "${CLAUDE_PLUGIN_ROOT}/hooks/telemetry-webhook.sh",
          "async": true
        }
      ]
    }
  ],
  "SessionStart": [
    {
      "matcher": {},
      "hooks": [
        {
          "type": "command",
          "command": "${CLAUDE_PLUGIN_ROOT}/hooks/session-sync.sh",
          "additionalContext": "Claude Code Session: ${CLAUDE_SESSION_ID}"
        },
        {
          "type": "command",
          "command": "${CLAUDE_PLUGIN_ROOT}/scripts/session-manager.sh export",
          "additionalContext": "Initializing Octopus session variables for multi-provider orchestration"
        },
        {
          "type": "command",
          "command": "${CLAUDE_PLUGIN_ROOT}/hooks/context-reinforcement.sh"
        }
      ]
    }
  ],
  "TeammateIdle": [
    {
      "matcher": {},
      "hooks": [
        {
          "type": "command",
          "command": "${CLAUDE_PLUGIN_ROOT}/hooks/teammate-idle-dispatch.sh",
          "additionalContext": "Octopus workflow: ${OCTOPUS_WORKFLOW_PHASE:-unknown}, Session: ${CLAUDE_SESSION_ID}"
        }
      ]
    }
  ],
  "TaskCompleted": [
    {
      "matcher": {},
      "hooks": [
        {
          "type": "command",
          "command": "${CLAUDE_PLUGIN_ROOT}/hooks/task-completed-transition.sh",
          "additionalContext": "Octopus workflow: ${OCTOPUS_WORKFLOW_PHASE:-unknown}, Session: ${CLAUDE_SESSION_ID}"
        }
      ]
    }
  ],
  "ConfigChange": [
    {
      "matcher": {},
      "hooks": [
        {
          "type": "command",
          "command": "${CLAUDE_PLUGIN_ROOT}/hooks/config-change-handler.sh",
          "additionalContext": "Session: ${CLAUDE_SESSION_ID}, Workflow: ${OCTOPUS_WORKFLOW_PHASE:-unknown}"
        }
      ]
    }
  ],
  "WorktreeCreate": [
    {
      "matcher": {},
      "hooks": [
        {
          "type": "command",
          "command": "${CLAUDE_PLUGIN_ROOT}/hooks/worktree-setup.sh",
          "additionalContext": "Session: ${CLAUDE_SESSION_ID}, Workflow: ${OCTOPUS_WORKFLOW_PHASE:-unknown}"
        }
      ]
    }
  ],
  "WorktreeRemove": [
    {
      "matcher": {},
      "hooks": [
        {
          "type": "command",
          "command": "${CLAUDE_PLUGIN_ROOT}/hooks/worktree-teardown.sh",
          "additionalContext": "Session: ${CLAUDE_SESSION_ID}, Workflow: ${OCTOPUS_WORKFLOW_PHASE:-unknown}"
        }
      ]
    }
  ]
}
